!function(t){var n={};function e(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(o,a,function(n){return t[n]}.bind(null,a));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){e(1),t.exports=e(4)},function(t,n,e){var o=function(t){"use strict";var n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function s(t,n,e,o){var a=n&&n.prototype instanceof l?n:l,r=Object.create(a.prototype),i=new k(o||[]);return r._invoke=function(t,n,e){var o="suspendedStart";return function(a,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===a)throw r;return O()}for(e.method=a,e.arg=r;;){var i=e.delegate;if(i){var s=y(i,e);if(s){if(s===d)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===o)throw o="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o="executing";var l=c(t,n,e);if("normal"===l.type){if(o=e.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:e.done}}"throw"===l.type&&(o="completed",e.method="throw",e.arg=l.arg)}}}(t,e,i),r}function c(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d={};function l(){}function u(){}function p(){}var m={};m[a]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g($([])));b&&b!==n&&e.call(b,a)&&(m=b);var h=p.prototype=l.prototype=Object.create(m);function f(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function v(t){var n;this._invoke=function(o,a){function r(){return new Promise((function(n,r){!function n(o,a,r,i){var s=c(t[o],t,a);if("throw"!==s.type){var d=s.arg,l=d.value;return l&&"object"==typeof l&&e.call(l,"__await")?Promise.resolve(l.__await).then((function(t){n("next",t,r,i)}),(function(t){n("throw",t,r,i)})):Promise.resolve(l).then((function(t){d.value=t,r(d)}),(function(t){return n("throw",t,r,i)}))}i(s.arg)}(o,a,n,r)}))}return n=n?n.then(r,r):r()}}function y(t,n){var e=t.iterator[n.method];if(void 0===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,y(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,d):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function w(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function $(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(e.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=void 0,n.done=!0,n};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return u.prototype=h.constructor=p,p.constructor=u,p[i]=u.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(h),t},t.awrap=function(t){return{__await:t}},f(v.prototype),v.prototype[r]=function(){return this},t.AsyncIterator=v,t.async=function(n,e,o,a){var r=new v(s(n,e,o,a));return t.isGeneratorFunction(e)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},f(h),h[i]="Generator",h[a]=function(){return this},h.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(e,o){return i.type="throw",i.arg=t,n.next=e,o&&(n.method="next",n.arg=void 0),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],i=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=e.call(r,"catchLoc"),c=e.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o];if(a.tryLoc<=this.prev&&e.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=n,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),w(e),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var a=o.arg;w(e)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:$(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),d}},t}(t.exports);try{regeneratorRuntime=o}catch(t){Function("r","regeneratorRuntime = r")(o)}},function(t,n){var e=!1;document.addEventListener("mousedown",(function(t){var n,o,a=t.target.closest(".draggable");a&&"on"!==document.designMode&&(t.preventDefault(),a.ondragstart=function(){return!1},function(t,a,c){if(e)return;e=!0,document.addEventListener("mousemove",i),t.addEventListener("mouseup",r),n=a-t.getBoundingClientRect().left,o=c-t.getBoundingClientRect().top,t.style.position="fixed",s(a,c)}(a,t.clientX,t.clientY));function r(t){!function(){if(!e)return;e=!1,a.style.top=parseInt(a.style.top)+pageYOffset+"px",a.style.position="absolute",document.removeEventListener("mousemove",i),a.removeEventListener("mouseup",r)}()}function i(t){s(t.clientX,t.clientY)}function s(t,e){var r=t-n,i=e-o,s=i+a.offsetHeight;if(s>document.documentElement.clientHeight){var c=document.documentElement.getBoundingClientRect().bottom,d=Math.min(c-s,10);d<0&&(d=0),window.scrollBy(0,d),i=Math.min(i,document.documentElement.clientHeight-a.offsetHeight)}if(i<0){var l=Math.min(-i,10);l<0&&(l=0),window.scrollBy(0,-l),i=Math.max(i,0)}r<0&&(r=0),r>document.documentElement.clientWidth-a.offsetWidth&&(r=document.documentElement.clientWidth-a.offsetWidth),a.style.left=r+"px",a.style.top=i+"px"}}))},function(t,n,e){},function(t,n,e){"use strict";function o(t){var n=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):void 0}e.r(n);document.querySelector(".message");function a(){return"".concat('<header class="adminHeader needHidden hidden">\n  <div class="btn-group mr-2">\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'undo\')"\n      title="Отменить"\n    >\n      <img src="/static/header/undo-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'redo\')"\n      title="Повторить"\n    >\n      <img src="/static/header/redo-solid.svg" alt="" width="12" height="12">\n    </button>\n  </div>\n  <div class="btn-group mr-2">\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'bold\')"\n      title="Жирный"\n    >\n      <img src="/static/header/bold-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'italic\')"\n      title="Курсив"\n    >\n      <img src="/static/header/italic-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'underline\')"\n      title="Подчеркнутый"\n    >\n      <img src="/static/header/underline-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'strikeThrough\')"\n      title="Зачеркнутый"\n    >\n      <img src="/static/header/strikethrough-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'superscript\')"\n      title="Надстрочный индекс"\n    >\n      <img src="/static/header/superscript-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'subscript\')"\n      title="Подстрочный индекс"\n    >\n      <img src="/static/header/subscript-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'removeFormat\')"\n      title="Убрать форматирование"\n    >\n      <img src="/static/header/remove-format-solid.svg" alt="" width="12" height="12">\n    </button>\n  </div>\n  <div class="btn-group mr-2">\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'justifyLeft\')"\n      title="Выравнивание по левому краю"\n    >\n      <img src="/static/header/align-left-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'justifyCenter\')"\n      title="Выравнивание по центру"\n    >\n      <img src="/static/header/align-center-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'justifyRight\')"\n      title="Выравнивание по правому краю"\n    >\n      <img src="/static/header/align-right-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'justifyFull\')"\n      title="Выравнивание по ширине"\n    >\n      <img src="/static/header/align-justify-solid.svg" alt="" width="12" height="12">\n    </button>\n  </div>\n  <div class="btn-group mr-2">\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'createLink\', false, prompt(\'Вставьте ссылку\'))"\n      title="Вставить ссылку"\n    >\n      <img src="/static/header/link-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'unlink\')"\n      title="Удалить ссылку"\n    >\n      <img src="/static/header/unlink-solid.svg" alt="" width="12" height="12">\n    </button>\n  </div>\n  <div class="btn-group mr-2">\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'insertOrderedList\')"\n      title="Нумерованный список"\n    >\n      <img src="/static/header/list-ol-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'insertUnorderedList\')"\n      title="Маркерованный список"\n    >\n      <img src="/static/header/list-ul-solid.svg" alt="" width="12" height="12">\n    </button>\n    <button\n      type="button"\n      class="btn btn-light btn-sm"\n      onclick="document.execCommand(\'insertHorizontalRule\')"\n      title="Вставить горизонтальную линию"\n    >\n      <img src="/static/header/line-solid.svg" alt="" width="12" height="12">\n    </button>\n  </div>\n  <div class="input-group-prepend mr-1">\n    <button type="button" class="btn btn-light btn-sm" title="Установить цвет шрифта" onclick="document.execCommand(\'foreColor\', false, this.nextElementSibling.children[0].value)">\n      <img src="/static/header/palette-solid.svg" alt="" width="12" height="12">\n    </button>\n    <label type="button" class="btn btn-light btn-sm dropdown-toggle dropdown-toggle-split" title="Выбрать цвет текста">\n      <input type="color" onchange="document.execCommand(\'foreColor\', false, this.value);" style="display: none;" />\n    </label>\n  </div>\n  <div class="input-group-prepend mr-2">\n    <button type="button" class="btn btn-light btn-sm" title="Установить цвет фона" onclick="document.execCommand(\'backColor\', false, this.nextElementSibling.children[0].value)">\n      <img src="/static/header/fill-drip-solid.svg" alt="" width="12" height="12">\n    </button>\n    <label type="button" class="btn btn-light btn-sm dropdown-toggle dropdown-toggle-split" title="Выбрать цвет фона">\n      <input type="color" onchange="document.execCommand(\'backColor\', false, this.value);" style="display: none;" />\n    </label>\n  </div>\n  <div class="input-group-prepend mr-1">\n    <button type="button" class="btn btn-light btn-sm" title="Установить шрифт" onclick="document.execCommand(\'fontName\', false, this.nextElementSibling.children[0].value)">\n      <img src="/static/header/font-solid.svg" alt="" width="12" height="12">\n    </button>\n    <label type="button" class="btn btn-light" title="Выбрать шрифт">\n      <select onchange="document.execCommand(\'fontName\', false, this.value);" style="width: 160px;">\n        <option value="Times New Roman">Times New Roman</option>\n        <option value="Arial">Arial</option>\n        <option value="Tahoma">Tahoma</option>\n      </select>\n    </label>\n  </div>\n  <div class="input-group-prepend mr-2">\n    <button type="button" class="btn btn-light btn-sm" title="Установить размер шрифта" onclick="document.execCommand(\'fontSize\', false, this.nextElementSibling.children[0].value)">\n      <img src="/static/header/font-size-solid.svg" alt="" width="12" height="12">\n    </button>\n    <label type="button" class="btn btn-light" title="Выбрать размер шрифта">\n      <select onchange="document.execCommand(\'fontSize\', false, this.value);">\n        <option value="1">10px</option>\n        <option value="2">13px</option>\n        <option value="3">16px</option>\n        <option value="4">18px</option>\n        <option value="5">24px</option>\n        <option value="6">32px</option>\n        <option value="7">48px</option>\n      </select>\n    </label>\n  </div>\n  <label type="button" class="btn btn-light" title="Переключить режим редактирования/чтения">\n    <input type="checkbox" value="'.concat(document.designMode,'" class="designMode" ').concat("on"===document.designMode?"checked":"",' style="display: none;" />\n    Режим редактирования\n  </label>\n  <div style="margin-left: auto;">\n    <a href="/news">Важно!!!</a>\n  </div>\n</header>\n'),'\n            <div class="adminPanel needHidden hidden">\n              ').concat('<div class="adminPanel-result">\n            <div class="message"><p style="font-size: 12px;">Привет)</p></div>\n            <div id="fountainTextG" style="display: none;">\n              <div id="fountainTextG_1" class="fountainTextG">З</div>\n              <div id="fountainTextG_2" class="fountainTextG">а</div>\n              <div id="fountainTextG_3" class="fountainTextG">г</div>\n              <div id="fountainTextG_4" class="fountainTextG">р</div>\n              <div id="fountainTextG_5" class="fountainTextG">у</div>\n              <div id="fountainTextG_6" class="fountainTextG">з</div>\n              <div id="fountainTextG_7" class="fountainTextG">к</div>\n              <div id="fountainTextG_8" class="fountainTextG">а</div>\n            </div>\n          </div>',"\n              ").concat('<div>\n            <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              Меню\n            </button>\n            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n              <button class="addNewDay dropdown-item">Добавить день</button>\n              '.concat(document.querySelectorAll(".first-page").length?'<button class="dropdown-item">\n                    <label style="margin: 0;">\n                      Картинка на главную страницу\n                      <input type="file" class="setBgImageFirstPage" style="display: none;" accept="image/*">\n                    </label>\n                  </button>':'<button class="setMainPage dropdown-item">Добавить главную страницу</button>','\n              <button class="saveAsHtml dropdown-item" title="ctrl + s">Сохранить файл</button>\n              <button class="saveAsOtherHtml dropdown-item">Сохранить как</button>\n              <button class="saveAsPdf dropdown-item">Сохранить как pdf</button>\n            </div>\n          </div>'),"\n              ").concat(document.querySelectorAll(".first-page").length?'<div class="elements">\n            <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Скрыть ненужные блоки">\n              Элементы \n            </button>\n            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1" style="padding: .5rem 10px;">\n              '.concat(document.querySelectorAll(".first-page").length?'<div class="custom-control custom-checkbox">\n                  <input type="checkbox" class="custom-control-input" id="first-page" '.concat(document.querySelector(".first-page").classList.contains("hidden")?"checked":"",'>\n                  <label class="custom-control-label" for="first-page">Главная</label>\n                </div>\n                <div class="custom-control custom-checkbox">\n                  <input type="checkbox" class="custom-control-input" id="second-page" ').concat(document.querySelector(".second-page").classList.contains("hidden")?"checked":"",'>\n                  <label class="custom-control-label" for="second-page">Контакты</label>\n                </div>'):"",'\n              <div class="custom-control custom-checkbox">\n                <input type="checkbox" class="custom-control-input" id="program-end" ').concat(document.querySelector(".program-end").classList.contains("hidden")?"checked":"",'>\n                <label class="custom-control-label" for="program-end">Конец услуг</label>\n              </div>\n              <div class="custom-control custom-checkbox">\n                <input type="checkbox" class="custom-control-input" id="program-thanks" ').concat(document.querySelector(".program-thanks").classList.contains("hidden")?"checked":"",'>\n                <label class="custom-control-label" for="program-thanks">Страховка</label>\n              </div>\n              <div class="custom-control custom-checkbox">\n                <input type="checkbox" class="custom-control-input" id="program-remarque" ').concat(document.querySelector(".program-remarque").classList.contains("hidden")?"checked":"",'>\n                <label class="custom-control-label" for="program-remarque">Замечания</label>\n              </div>\n              <div class="custom-control custom-checkbox">\n                <input type="checkbox" class="custom-control-input" id="program-rule" ').concat(document.querySelector(".program-rule").classList.contains("hidden")?"checked":"",'>\n                <label class="custom-control-label" for="program-rule">Условия</label>\n              </div>\n            </div>\n          </div>'):"","\n              ").concat('<div>\n            <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              Другое\n            </button>\n            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n              <a href="/" class="dropdown-item" title="Перейти на главную страницу" target="_blank">Главная</a>\n              <a href="/all" class="dropdown-item" title="Перейти ко всем программам" target="_blank">Все программы</a>\n              <a href="/news" class="dropdown-item" title="Перейти к новостям" target="_blank">Новости</a>\n              <a href="/'.concat(o("id")?"profile":"register",'" class="dropdown-item" target="_blank">').concat(o("id")?"Профиль":"Регистрация",'</a>\n              <a href="/').concat(o("id")?"logout.php":"login",'" class="dropdown-item" target="_blank">').concat(o("id")?"Выйти":"Войти","</a>\n            </div>\n          </div>"),"\n              ").concat('<div>\n            <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              Шаблоны\n            </button>\n            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n              <button class="saveAsFr dropdown-item">Сохранить как франзуский шаблон</button>\n              <button class="saveAsIt dropdown-item">Сохранить как итальянский шаблон</button>\n              <button class="saveAsDe dropdown-item">Сохранить как немецкий шаблон</button>\n              <button class="saveAsFlyer dropdown-item">Сохранить как шаблон флаера</button>\n            </div>\n          </div>',"\n              ").concat('<div>\n            <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              Флаеры\n            </button>\n            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n              <button class="dropdown-item">\n                <label style="margin: 0;">\n                  Вставить карту\n                  <input type="file" class="setBgImageFlyer" style="display: none;" accept="image/*">\n                </label>\n              </button>\n            </div>\n          </div>',"\n              ").concat('<div style="margin-top: 15px;font-size: 12px;">\n            \n          </div>',"\n            </div>")}function r(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=window.location.href.match(/\/html/)||window.location.href.match(/\/autosave/);document.addEventListener("DOMContentLoaded",(function(){i&&(document.designMode="on",document.querySelectorAll(".first-page .first-page-title, .first-page .program-name, .first-page .program-data, .first-page .first-page-desc").forEach((function(t){t.classList.contains("draggable")||t.classList.add("draggable")}))),document.querySelector("head").insertAdjacentHTML("beforeend",'<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">')})),window.onload=function(){document.querySelectorAll(".structure .dir").length&&document.querySelectorAll(".structure .dir").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation(),this.lastElementChild.classList.toggle("open-dir")}))})),document.querySelectorAll(".needHidden").forEach((function(t){t.setAttribute("contenteditable",!1)})),document.querySelectorAll(".program-delete").forEach((function(t){t.addEventListener("click",(function(t){var n=t.target,e=n.parentElement,o=n.nextElementSibling,a=o.getAttribute("href"),r=o.textContent.trimEnd();if(confirm("Вы уверены, что хотите удалить программу ".concat(r,"?"))){var i=new FormData;i.append("href",a),$.ajax({type:"POST",url:"/remove-program.php",data:i,contentType:!1,processData:!1}).then((function(t){t&&e.remove()})).catch((function(t){return console.log(t)}))}}))}))},$(document).ready((function(){l(),$(".message").text(""),b(".price-btn",".adminPanel",".day-menu-btns",".close-block","header",".addIncList",".add-contain-item",".contain-menu-btns"),document.querySelector("body").insertAdjacentHTML("afterbegin",a());var t,n,e,o,s=window.location.pathname,c=s.slice(window.location.pathname.lastIndexOf("/")).replace("/","").replace(".html","");function d(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Введите название файла";if(null!==(t=prompt(a,"newProgram".concat(Date.now())).replace(/ /g,"_"))){n="html/".concat(t,".html"),e="autosave/".concat(t,".html"),o="pdf/".concat(t,".pdf");var r=new FormData;r.append("htmlFileName",n),$.ajax({type:"POST",url:"/file.php",data:r,contentType:!1,processData:!1}).then((function(t){(t=JSON.parse(t))?(m(n,!0),setTimeout((function(){return window.location.pathname="/".concat(n)}),800)):d("Такое имя файла уже существует, введите, пожалуйста, другое")})).catch((function(t){u("Ошибка: ".concat(t.statusText),!1)}))}else window.location.pathname="/"}function l(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=$("#fountainTextG"),e=$(".message");t?n.css("display","block"):n.css("display","none"),t?e.css("display","none"):e.css("display","block")}function u(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=$(".message"),o=n?"#1e7e34":"darkred";e.html('<p style="color: '.concat(o,'">').concat(t,"</p>"))}function p(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l(!0);var o=n.target.files,a=r(o),i=new FormData;a.forEach((function(t,n){return i.append("".concat(n),t)})),i.append("fileName",t),$.ajax({url:"/upload.php",dataType:"text",cache:!1,contentType:!1,processData:!1,data:i,type:"post"}).then((function(a){if(a=JSON.parse(a),e)$(".first-page").prop("style","background-image: url(".concat(window.location.origin,"/uploads/").concat(t,"/").concat(a[0],")"));else for(var r=0;r<o.length;r++)$(n.target.nextElementSibling).append('<div style="background: url('.concat(window.location.origin,"/uploads/").concat(t,"/").concat(a[r],') no-repeat center /cover;" class="images-item ').concat(r,'"></div>'));u("Файл загружен"),l(!1)})).catch((function(t){u("Что-то пошло не так, позовоите на помощь((((( Ошибка: ".concat(t.statusText),!1),l(!1)}))}function m(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];$(".needHidden").addClass("hidden");var e=$("html").html(),o=new FormData;o.append("DOM",e),o.append("htmlFileName",t),$.ajax({type:"POST",url:"/saveAsHtml.php",data:o,contentType:!1,processData:!1}).then((function(t){n&&u(t),$(".needHidden").removeClass("hidden")})).catch((function(t){u("Ошибка: ".concat(t.statusText),!1),$(".needHidden").removeClass("hidden")}))}if(1===s.indexOf("patterns")?d():(t=c,n="html/".concat(c,".html"),e="autosave/".concat(c,".html"),o="pdf/".concat(c,".pdf")),i){var g=1;setInterval((function(){m(e),++g%2&&u("Вы давно не сохранялись")}),3e5)}function b(){for(var t=0;t<arguments.length;t++)$(arguments[t]).remove()}function h(){var t=$(".program-days-item");return'<div class="program-days-item height">\n              '.concat('<div class="needHidden day-menu-btns">\n              <button class="hideDay mr-1 btn btn-outline-dark">&#8743;</button> \n              <button class="dayMoveDown mr-1 btn btn btn-secondary" title="Передвинуть день ниже">&#8595;</button>\n              <button class="dayMoveUp mr-1 btn btn btn-secondary" title="Передвинуть день выше">&#8593;</button>\n              <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                Действие\n              </button>\n              <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n                <button class="addDayBefore btn btn-success dropdown-item">Добавить день до</button>\n                <button class="addDayAfter btn btn-success dropdown-item">Добавить день после</button>\n                <button class="deleteDay btn btn-danger dropdown-item">Удалить день</button>\n              </div>\n             </div>','\n              <div class="program-days-item-header">\n                <div class="program-days-item-header-count">\n                  Jour ').concat(t.length+1,'\n                </div>\n                <div class="program-days-item-header-data">\n                  01.01.2020\n                </div>\n                <div class="program-days-item-header-name">\n                  Название\n                </div>\n              </div>\n              <div class="program-days-item-text">\n                <input type="file" multiple="" accept="image/*" class="loadFile needHidden" style="position: absolute;">\n                <div class="images">\n                </div>\n                <div class="desc">\n                  <p>Текст</p>\n                  <input type="file" multiple="" accept="image/*" class="loadFile needHidden" style="position: absolute;">\n                  <div class="desc-images">\n                  </div>\n                </div>\n              </div>\n            </div>')}$(".programm-include-left").prepend('<button style="position: absolute; right: 20px;" class="needHidden btn hidden addIncList">Добавить пункты</button>'),$(".needHidden").removeClass("hidden"),$(document).on("change",(function(n){if(~n.target.className.indexOf("loadFile")&&p(n),~n.target.className.indexOf("designMode")){var e=n.target;document.designMode=e.checked?"on":"off",e.nextSibling.textContent="Режим ".concat(e.checked?"редактирования":"чтения")}(~n.target.className.indexOf("setBgImageFirstPage")&&(console.log("click"),p(n,!0)),~n.target.className.indexOf("setBgImageFlyer")&&function(n){l(!0);var e=r(n.target.files),o=new FormData;e.forEach((function(t,n){return o.append("".concat(n),t)})),o.append("fileName",t),$.ajax({url:"/upload.php",dataType:"text",cache:!1,contentType:!1,processData:!1,data:o,type:"post"}).then((function(n){n=JSON.parse(n),$(".flyer-desc").prop("style","background-image: url(".concat(window.location.origin,"/uploads/").concat(t,"/").concat(n[0],")")),u("Файл загружен"),l(!1)})).catch((function(t){u("Что-то пошло не так, позовоите на помощь((((( Ошибка: ".concat(t.statusText),!1),l(!1)}))}(n),~n.target.className.indexOf("custom-control-input"))&&($(n.target).prop("checked")?$(".".concat($(n.target).prop("id"))).addClass("hidden"):$(".".concat($(n.target).prop("id"))).removeClass("hidden"))})).on("dblclick",(function(t){~t.target.className.indexOf("images-item")&&$(t.target).remove()})).on("keydown",(function(t){t.ctrlKey&&52===t.keyCode&&(t.preventDefault(),i&&(document.designMode=document.querySelector("header").classList.contains("hidden")?"on":"off"),$(".needHidden").toggleClass("hidden")),t.ctrlKey&&83===t.keyCode&&(t.preventDefault(),m(n))})).on("click",(function(t){if(~t.target.className.indexOf("saveAsFr")&&m("patterns/french/".concat(c,".html")),~t.target.className.indexOf("saveAsIt")&&m("patterns/italian/".concat(c,".html")),~t.target.className.indexOf("saveAsDe")&&m("patterns/german/".concat(c,".html")),~t.target.className.indexOf("saveAsFlyer")&&m("patterns/flyers/".concat(c,".html")),~t.target.className.indexOf("saveAsHtml")&&m(n),~t.target.className.indexOf("saveAsOtherHtml")&&d(),~t.target.className.indexOf("setMainPage")&&($(".first-page").length||(b(".header",".red-title",".program-name",".program-data"),$(".content").prepend('<div class="first-page">\n                          <div class="first-page-title">\n                            RUSSIE AUTREMENT\n                          </div>\n                          <div class="program-name height">\n                            <div class="program-name-title">\n                              Programme sur mesure spécialement étudié en faveur de\n                            </div>\n                            <div class="program-name-text">\n                              Appéré Patricia\n                            </div>\n                          </div>\n                    \n                          <div class="program-data height">\n                            <div class="program-data-title">\n                              Votre demande:\n                            </div>\n                            <div class="program-data-text">\n                              <div class="program-data-text-city">\n                                Moscou - Saint-Pétersbourg\n                              </div>\n                              <div class="program-data-text-desc">\n                                <div class="program-data-text-desc-item">\n                                  <span>Nombre de personnes:</span>\n                                  <span>Date de sejour:</span>\n                                  <span>Durée du séjour:</span>\n                                </div>\n                                <div class="program-data-text-desc-item">\n                                  <span>2 adultes</span>\n                                  <span>septembre 2020</span>\n                                  <span>7 jours et 6 nuits</span>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                          <div class="first-page-desc">\n                            <div>\n                              Описание тура\n                            </div>\n                            <div>\n                              Описание тура\n                            </div>\n                            <div>\n                              Описание тура\n                            </div>\n                          </div>\n                        </div>\n                        <div class="second-page"></div>'),$(".second-page").load("/profile .manager-contacts",{limit:1}),m(n,!0),setTimeout((function(){return window.location.reload()}),500))),~t.target.className.indexOf("saveAsPdf")&&(l(!0),m(n),console.log(n),$.ajax({type:"POST",processData:!1,contentType:!1,url:"/convert.php?file=".concat(n),success:function(){u('Ура ура, пдф готов <a href="/'.concat(o,'" target="_blank">Вот ссылка</a>'))},error:function(t){u("Что-то пошло не так, позовоите на помощь((((( Ошибка: ".concat(t.statusText),!1)},complete:function(){m(n,!1),$(".addKolontitul").attr("disabled",!1),l(!1)}})),~t.target.className.indexOf("dayMoveDown")){$(t.target);var e=$(t.target).closest(".program-days-item"),a=e.next();a.length&&a.after(e)}if(~t.target.className.indexOf("dayMoveUp")){var i=$(t.target).closest(".program-days-item"),s=i.prev();s.length&&s.before(i)}if(~t.target.className.indexOf("addDayBefore")&&$(t.target).closest(".program-days-item").before(h()),~t.target.className.indexOf("addDayAfter")&&$(t.target).closest(".program-days-item").after(h()),~t.target.className.indexOf("hideDay")){var p=$(t.target),g=p.closest(".program-days-item"),f=g.children().last();f.hasClass("hideActivated")?(f.removeClass("hideActivated"),g.css("margin-bottom","50px"),p.html("&#8743;"),p.prop("title","Свернуть день"),f.show(300)):(f.addClass("hideActivated"),g.css("margin-bottom","0"),p.html("&#8744;"),p.prop("title","Развернуть день"),f.hide(300))}if(~t.target.className.indexOf("deleteDay")){if(!confirm("Вы уверены, что хотите удалить день?"))return;$(t.target).closest(".program-days-item").remove()}if(~t.target.className.indexOf("close-btn")){var v=$(".elements input"),y=$(t.target).offsetParent().parent();y.prop("class").split(" ").forEach((function(t){r(v).forEach((function(n){$(n).prop("id")===t&&($(n).prop("checked",!0),y.addClass("hidden"))}))}))}if(~t.target.className.indexOf("addNewDay")&&($(".program-days").append(h()),u("День добавлен")),~t.target.className.indexOf("contain-add-check")){var x=$(t.target),w=x.hasClass("1")?1:2,k=x.closest(".program-contain").children();$(k[w]).find(".program-contain-item-text").append("<span>Текст</span>")}if(~t.target.className.indexOf("contain-add-text")){var O=$(t.target);O.prop("disabled",!0),$(O.closest(".program-contain")).append('<div class="contain-textarea">\n                                <div class="close" onclick="$(this).parent().remove(); $(\'.contain-add-text\').prop(\'disabled\', false)">x</div>\n                                <div class="form-group">\n                                  <label for="exampleFormControlTextarea1">Вставьте текст</label>\n                                  <textarea class="form-control" id="exampleFormControlTextarea1" rows="10"></textarea>\n                                </div>\n                                <button class="contain-textarea-submit 1 btn btn-success">Вставить к галочкам</button>\n                                <button class="contain-textarea-submit 2 btn btn-success">Вставить к крестикам</button>\n                               </div>')}if(~t.target.className.indexOf("contain-textarea-submit")){var C=$(t.target),E=C.hasClass("1")?1:2,T=C.closest(".program-contain").children(),L=C.parent().find("textarea").val();if(!L)return;var N=L.split("\n");$(T[E]).find(".program-contain-item-text").html(N.map((function(t){return"<span>".concat(t,"</span>")}))),C.parent().remove(),$(".contain-add-text").prop("disabled",!1)}if(~t.target.className.indexOf("add-new-table")){var S=$(t.target).closest(".program-price");S.before(S.clone())}if(~t.target.className.indexOf("add-price-row")&&$(t.target).closest(".program-price").find(".program-price-desc-item").append("<span>Текст</span>"),~t.target.className.indexOf("add-center-row")&&$(t.target).closest(".program-price").find(".program-price-desc").append('<div class="program-price-desc-center-row">Текст</div>'),~t.target.className.indexOf("add-price-col")){var D=$(t.target),A=D.closest(".program-price");if(A.find(".program-price-desc-item").length>=4){var G=setInterval((function(){A.find(".program-price-desc-item").length<4&&($(D.removeClass("disabled")),D.text("Столбец"),clearInterval(G))}),500);return $(D.addClass("disabled")),void D.text("Максимум")}A.find(".program-price-desc").append(A.find(".program-price-desc-item:nth-child(2)").clone())}})),$(".program-price").prepend('<div class="needHidden price-btn">\n              <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                Действие\n              </button>\n              <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n                <button class="add-center-row mr-1 btn btn-success dropdown-item">Строку по центру</button>\n                <button class="add-price-row mr-1 btn btn-success dropdown-item">Строка</button>\n                <button class="add-price-col btn btn-success dropdown-item">Столбец</button>\n                <button class="add-new-table btn btn-success dropdown-item">Еще таблицу</button>\n                <button class="btn btn-success dropdown-item" onclick="if($(\'.program-price\').length > 1) $(this).closest(\'.program-price\').remove()">Удалить таблицу</button>\n              </div>\n             </div>'),$(".program-days-item").prepend('<div class="needHidden day-menu-btns">\n              <button class="hideDay mr-1 btn btn-outline-dark">&#8743;</button> \n              <button class="dayMoveDown mr-1 btn btn btn-secondary" title="Передвинуть день ниже">&#8595;</button>\n              <button class="dayMoveUp mr-1 btn btn btn-secondary" title="Передвинуть день выше">&#8593;</button>\n              <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                Действие\n              </button>\n              <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n                <button class="addDayBefore btn btn-success dropdown-item">Добавить день до</button>\n                <button class="addDayAfter btn btn-success dropdown-item">Добавить день после</button>\n                <button class="deleteDay btn btn-danger dropdown-item">Удалить день</button>\n              </div>\n             </div>'),$(".program-contain").prepend('<div class="needHidden contain-menu-btns">\n              <button class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                Действие\n              </button>\n              <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">\n                <button class="contain-add-check 1 btn btn-danger dropdown-item">Добавить галочки</button>\n                <button class="contain-add-check 2 btn btn-danger dropdown-item">Добавить крестики</button>\n                <button class="contain-add-text btn btn-danger dropdown-item">Добавить текст</button>\n              </div>\n            </div>'),$(".program-days-item").each((function(t,n){var e=$(n).find(".hideDay");$(n).find(".program-days-item-text").hasClass("hideActivated")?(e.html("&#8744;"),e.prop("title","Развернуть день")):(e.html("&#8743;"),e.prop("title","Свернуть день"))})),$(".second-page").length&&$(".second-page").load("/profile .manager-contacts",{limit:1}),$(".program-end, .program-thanks, .program-remarque, .program-rule, .first-page, .second-page").append('\n    <div class="close-block needHidden">\n      <button class="btn close" type="button" aria-label="Close">\n        <span aria-hidden="true" class="close-btn">&times;</span>\n      </button>\n    </div>'),i&&function(){var t=$(".belay-item-btn");if(t.length){var n=t[0].textContent;0===t.children().length&&t.html('<a href="https://russieautrement.com/assurance-voyage/" target="_blank">'.concat(n,"</a>"))}}()}));e(2),e(3)}]);